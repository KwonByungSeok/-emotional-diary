<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ì¼ê¸° Mock ë°ì´í„° ìƒì„±</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
      max-width: 800px;
      margin: 50px auto;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      background: white;
      padding: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    h1 {
      color: #333;
      margin-bottom: 20px;
    }
    .button-group {
      margin: 20px 0;
    }
    button {
      background-color: #0070f3;
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      margin-right: 10px;
      margin-bottom: 10px;
    }
    button:hover {
      background-color: #0051cc;
    }
    button.secondary {
      background-color: #6c757d;
    }
    button.secondary:hover {
      background-color: #5a6268;
    }
    .info {
      background-color: #e7f3ff;
      border-left: 4px solid #0070f3;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
    }
    .success {
      background-color: #d4edda;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
      display: none;
    }
    .error {
      background-color: #f8d7da;
      border-left: 4px solid #dc3545;
      padding: 15px;
      margin: 20px 0;
      border-radius: 4px;
      display: none;
    }
    input {
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
      width: 100px;
      margin: 0 10px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸ“ ì¼ê¸° Mock ë°ì´í„° ìƒì„±</h1>
    
    <div class="info">
      <strong>ì‚¬ìš©ë²•:</strong><br>
      ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ì¼ê¸° mock ë°ì´í„°ë¥¼ ìƒì„±í•˜ê³  ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•©ë‹ˆë‹¤.<br>
      í˜ì´ì§€ë„¤ì´ì…˜ í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ ì—¬ëŸ¬ ê°œì˜ ì¼ê¸°ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </div>

    <div class="button-group">
      <label>
        ìƒì„±í•  ì¼ê¸° ê°œìˆ˜: 
        <input type="number" id="diaryCount" value="25" min="1" max="100">
      </label>
      <button onclick="generateDiaries()">ì¼ê¸° ë°ì´í„° ìƒì„±</button>
      <button class="secondary" onclick="clearDiaries()">ë¡œì»¬ìŠ¤í† ë¦¬ì§€ ì´ˆê¸°í™”</button>
    </div>

    <div id="successMessage" class="success"></div>
    <div id="errorMessage" class="error"></div>

    <div class="info">
      <strong>ì°¸ê³ :</strong><br>
      - ê¸°ë³¸ê°’ì€ 25ê°œì…ë‹ˆë‹¤ (í˜ì´ì§€ë‹¹ 12ê°œì´ë¯€ë¡œ ì•½ 3í˜ì´ì§€ ë¶„ëŸ‰)<br>
      - ìƒì„±ëœ ë°ì´í„°ëŠ” ë¸Œë¼ìš°ì €ì˜ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ë©ë‹ˆë‹¤<br>
      - ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒˆë¡œê³ ì¹¨í•˜ë©´ ìƒì„±ëœ ë°ì´í„°ë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤
    </div>
  </div>

  <script>
    // ê°ì • íƒ€ì… ì •ì˜
    const EmotionType = {
      HAPPY: "HAPPY",
      SAD: "SAD",
      ANGRY: "ANGRY",
      SURPRISE: "SURPRISE",
      ETC: "ETC",
    };

    // ì¼ê¸° ì œëª© í…œí”Œë¦¿
    const titleTemplates = [
      "ì˜¤ëŠ˜ì˜ í•˜ë£¨",
      "íŠ¹ë³„í•œ í•˜ë£¨",
      "ê¸°ì–µì— ë‚¨ëŠ” ë‚ ",
      "ìƒˆë¡œìš´ ê²½í—˜",
      "ì¢‹ì€ í•˜ë£¨",
      "í˜ë“  í•˜ë£¨",
      "ì¦ê±°ìš´ í•˜ë£¨",
      "í‰ë²”í•œ í•˜ë£¨",
      "ê°ë™ì ì¸ í•˜ë£¨",
      "ë°°ì›€ì˜ í•˜ë£¨",
      "ì—¬í–‰ì˜ í•˜ë£¨",
      "ì¹œêµ¬ë“¤ê³¼ì˜ í•˜ë£¨",
      "ê°€ì¡±ê³¼ì˜ í•˜ë£¨",
      "í˜¼ìë§Œì˜ í•˜ë£¨",
      "ë„ì „ì˜ í•˜ë£¨",
      "ì„±ì·¨ì˜ í•˜ë£¨",
      "íœ´ì‹ì˜ í•˜ë£¨",
      "í™œë™ì ì¸ í•˜ë£¨",
      "ì¡°ìš©í•œ í•˜ë£¨",
      "ë°”ìœ í•˜ë£¨",
    ];

    // ì¼ê¸° ë‚´ìš© í…œí”Œë¦¿
    const contentTemplates = [
      "ì˜¤ëŠ˜ì€ ì •ë§ íŠ¹ë³„í•œ í•˜ë£¨ì˜€ì–´ìš”. ë§ì€ ì¼ë“¤ì´ ìˆì—ˆì§€ë§Œ, ê·¸ ì¤‘ì—ì„œë„ ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ” ìˆœê°„ì€...",
      "í•˜ë£¨ ì¢…ì¼ ë‹¤ì–‘í•œ ê²½í—˜ì„ í–ˆìŠµë‹ˆë‹¤. ì•„ì¹¨ì—ëŠ” ì¼ì° ì¼ì–´ë‚˜ì„œ ì‚°ì±…ì„ ë‹¤ë…”ê³ , ì˜¤í›„ì—ëŠ” ì¹œêµ¬ë“¤ì„ ë§Œë‚¬ì–´ìš”.",
      "ì˜¤ëŠ˜ í•˜ë£¨ëŠ” í‰ì†Œì™€ëŠ” ë‹¤ë¥¸ ëŠë‚Œì´ì—ˆìŠµë‹ˆë‹¤. ìƒˆë¡œìš´ ê²ƒì„ ë°°ìš°ê³  ê²½í—˜í•˜ëŠ” ì‹œê°„ì´ì—ˆì–´ìš”.",
      "ì˜¤ëŠ˜ì€ ì •ë§ ë§ì€ ì¼ì´ ìˆì—ˆìŠµë‹ˆë‹¤. ì¢‹ì€ ì¼ë„ ìˆê³ , í˜ë“  ì¼ë„ ìˆì—ˆì§€ë§Œ ëª¨ë‘ ì˜ë¯¸ ìˆëŠ” ì‹œê°„ì´ì—ˆì–´ìš”.",
      "í•˜ë£¨ ì¢…ì¼ ì§‘ì—ì„œ ì‰¬ì—ˆìŠµë‹ˆë‹¤. ì±…ì„ ì½ê³ , ìŒì•…ì„ ë“¤ìœ¼ë©° ì—¬ìœ ë¡­ê²Œ ì‹œê°„ì„ ë³´ëƒˆì–´ìš”.",
      "ì˜¤ëŠ˜ì€ ì¹œêµ¬ë“¤ê³¼ í•¨ê»˜ ì‹œê°„ì„ ë³´ëƒˆìŠµë‹ˆë‹¤. ë§›ìˆëŠ” ìŒì‹ì„ ë¨¹ê³ , ì´ì•¼ê¸°ë¥¼ ë‚˜ëˆ„ë©° ì¦ê±°ìš´ í•˜ë£¨ë¥¼ ë³´ëƒˆì–´ìš”.",
      "ìƒˆë¡œìš´ ê³³ì„ íƒí—˜í•˜ëŠ” í•˜ë£¨ì˜€ìŠµë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ë°œê²¬ë“¤ì´ ë§ì•„ì„œ ì¬ë¯¸ìˆì—ˆì–´ìš”.",
      "ì˜¤ëŠ˜ì€ ì¡°ê¸ˆ í˜ë“  í•˜ë£¨ì˜€ì§€ë§Œ, ê·¸ëŸ¼ì—ë„ ë¶ˆêµ¬í•˜ê³  ì˜ë¯¸ ìˆëŠ” ì‹œê°„ì´ì—ˆìŠµë‹ˆë‹¤.",
      "í•˜ë£¨ ì¢…ì¼ ë°”ì˜ê²Œ ë³´ëƒˆì§€ë§Œ, ëª¨ë“  ì¼ì„ ë§ˆë¬´ë¦¬í•˜ê³  ë‚˜ë‹ˆ ë¿Œë“¯í•œ ëŠë‚Œì´ ë“¤ì—ˆì–´ìš”.",
      "ì˜¤ëŠ˜ì€ ì •ë§ ê°ë™ì ì¸ í•˜ë£¨ì˜€ìŠµë‹ˆë‹¤. ì˜ˆìƒì¹˜ ëª»í•œ ì„ ë¬¼ì„ ë°›ì•„ì„œ ê¸°ë»¤ì–´ìš”.",
    ];

    function getRandomEmotion() {
      const emotions = Object.values(EmotionType);
      return emotions[Math.floor(Math.random() * emotions.length)];
    }

    function generateDate(daysAgo) {
      const date = new Date();
      date.setDate(date.getDate() - daysAgo);
      return date.toISOString();
    }

    function generateDiary(id, daysAgo) {
      const titleIndex = Math.floor(Math.random() * titleTemplates.length);
      const contentIndex = Math.floor(Math.random() * contentTemplates.length);
      
      const title = `${titleTemplates[titleIndex]} ${id}`;
      const content = `${contentTemplates[contentIndex]} ì˜¤ëŠ˜ì€ ${daysAgo}ì¼ ì „ì´ì—ˆê³ , ì´ ìˆœê°„ì„ ê¸°ë¡í•˜ê³  ì‹¶ì—ˆì–´ìš”.`;
      
      return {
        id: id,
        title: title,
        content: content,
        emotion: getRandomEmotion(),
        createdAt: generateDate(daysAgo),
      };
    }

    function generateDiaries() {
      const countInput = document.getElementById('diaryCount');
      const count = parseInt(countInput.value) || 25;
      
      if (count < 1 || count > 100) {
        showError('ì¼ê¸° ê°œìˆ˜ëŠ” 1ê°œ ì´ìƒ 100ê°œ ì´í•˜ë¡œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
        return;
      }

      try {
        const diaries = [];
        
        // ê¸°ì¡´ ë°ì´í„° í™•ì¸
        const existingData = localStorage.getItem('diaries');
        let startId = 1;
        if (existingData) {
          try {
            const existingDiaries = JSON.parse(existingData);
            if (Array.isArray(existingDiaries) && existingDiaries.length > 0) {
              startId = Math.max(...existingDiaries.map(d => d.id)) + 1;
            }
          } catch (e) {
            // ê¸°ì¡´ ë°ì´í„°ê°€ ì˜ëª»ëœ ê²½ìš° ìƒˆë¡œ ì‹œì‘
          }
        }

        // ì¼ê¸° ë°ì´í„° ìƒì„±
        for (let i = 0; i < count; i++) {
          const daysAgo = count - i - 1;
          diaries.push(generateDiary(startId + i, daysAgo));
        }

        // ê¸°ì¡´ ë°ì´í„°ì™€ ë³‘í•©
        let allDiaries = [];
        if (existingData) {
          try {
            const existingDiaries = JSON.parse(existingData);
            if (Array.isArray(existingDiaries)) {
              allDiaries = existingDiaries;
            }
          } catch (e) {
            // ê¸°ì¡´ ë°ì´í„°ê°€ ì˜ëª»ëœ ê²½ìš° ë¬´ì‹œ
          }
        }

        allDiaries = [...allDiaries, ...diaries];
        
        // ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
        localStorage.setItem('diaries', JSON.stringify(allDiaries));
        
        showSuccess(`âœ… ${count}ê°œì˜ ì¼ê¸° ë°ì´í„°ê°€ ìƒì„±ë˜ì–´ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤. (ì´ ${allDiaries.length}ê°œ)`);
        
        console.log('ìƒì„±ëœ ì¼ê¸° ë°ì´í„°:', diaries);
      } catch (error) {
        showError('ë°ì´í„° ìƒì„± ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ' + error.message);
        console.error(error);
      }
    }

    function clearDiaries() {
      if (confirm('ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì˜ ëª¨ë“  ì¼ê¸° ë°ì´í„°ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        localStorage.removeItem('diaries');
        showSuccess('âœ… ë¡œì»¬ìŠ¤í† ë¦¬ì§€ê°€ ì´ˆê¸°í™”ë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
    }

    function showSuccess(message) {
      const successDiv = document.getElementById('successMessage');
      const errorDiv = document.getElementById('errorMessage');
      successDiv.textContent = message;
      successDiv.style.display = 'block';
      errorDiv.style.display = 'none';
    }

    function showError(message) {
      const successDiv = document.getElementById('successMessage');
      const errorDiv = document.getElementById('errorMessage');
      errorDiv.textContent = message;
      errorDiv.style.display = 'block';
      successDiv.style.display = 'none';
    }

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ê¸°ì¡´ ë°ì´í„° í™•ì¸
    window.addEventListener('load', () => {
      const existingData = localStorage.getItem('diaries');
      if (existingData) {
        try {
          const diaries = JSON.parse(existingData);
          if (Array.isArray(diaries) && diaries.length > 0) {
            showSuccess(`í˜„ì¬ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì— ${diaries.length}ê°œì˜ ì¼ê¸°ê°€ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.`);
          }
        } catch (e) {
          // ë¬´ì‹œ
        }
      }
    });
  </script>
</body>
</html>

